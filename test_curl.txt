# test home
curl https://voparis-uws-test.obspm.fr

# DB
curl https://voparis-uws-test.obspm.fr/init_db
https://voparis-uws-test.obspm.fr/init_db
https://voparis-uws-test.obspm.fr/show_db

# job list
https://voparis-uws-test.obspm.fr/ctbin

# job
curl https://voparis-uws-test.obspm.fr/ctbin/non_valid_id
https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9
https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/phase
https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/executionduration
https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/destruction
https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/error
https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/quote
https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/parameters
https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/parameters/evfile
https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/results
https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/results/0
https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/owner

# create job
curl -d "evfile=http://voplus.obspm.fr/cta/events.fits" -d "enumbins=2" https://voparis-uws-test.obspm.fr/ctbin
curl -d "evfile=http://voplus.obspm.fr/cta/events.fits" -d "enumbins=2" -d "PHASE=RUN" https://voparis-uws-test.obspm.fr/ctbin
curl -F "evfile=@/home/mservillat/CTA/svn_voparis-cta/data_processing/ctools/tutorial/events.fits" -F "enumbins=2" https://voparis-uws-test.obspm.fr/ctbin

# start job
curl -d "PHASE=RUN" https://voparis-uws-test.obspm.fr/ctbin/00000000-dbf3-6b04-b1e7-28d47ad32794/phase
curl -d "BADKEY=RUN" https://voparis-uws-test.obspm.fr/ctbin/00000000-dbf3-6b04-b1e7-28d47ad32794/phase
curl -d "PHASE=BADVALUE" https://voparis-uws-test.obspm.fr/ctbin/00000000-dbf3-6b04-b1e7-28d47ad32794/phase

# delete job
curl -X DELETE https://voparis-uws-test.obspm.fr/ctbin/00000000-dbf3-6b04-b1e7-28d47ad32794
curl -d "ACTION=DELETE" https://voparis-uws-test.obspm.fr/ctbin/00000000-dbf3-6b04-b1e7-28d47ad32794
curl -d "BADKEY=DELETE" https://voparis-uws-test.obspm.fr/ctbin/00000000-dbf3-6b04-b1e7-28d47ad32794

# abort job
curl -d "PHASE=ABORT" https://voparis-uws-test.obspm.fr/ctbin/00000000-dbf3-6b04-b1e7-28d47ad32794/phase

# change execution_duration
curl -d "EXECUTIONDURATION=120" https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/executionduration
curl -d "EXECUTIONDURATION=AA" https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/executionduration
curl -d "EXECUTIONDUR=AA" https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/executionduration

# change desctruction_time
curl -d "DESTRUCTION=2016-01-01T00:00:00" https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/destruction
curl -d "DESTRUCTION=2016-01-01T00:00:00.55555" https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/destruction
curl -d "DESTRUCTION=2016-01-01 00:00:00" https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/destruction
curl -d "DESTRUCTION=AA" https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/destruction
curl -d "DESTRUCT=AA" https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/destruction

# change parameter
curl -d "VALUE=5" https://voparis-uws-test.obspm.fr/ctbin/22222222-e656-b924-c14a-fbd02f9ebaa9/parameters/enumbins
curl -d "VALUE=5" https://voparis-uws-test.obspm.fr/ctbin/00000000-dbf3-6b04-b1e7-28d47ad32794/parameters/enumbins
curl -d "VAL=5" https://voparis-uws-test.obspm.fr/ctbin/00000000-dbf3-6b04-b1e7-28d47ad32794/parameters/enumbins
curl -d "VALUE=AA" https://voparis-uws-test.obspm.fr/ctbin/00000000-dbf3-6b04-b1e7-28d47ad32794/parameters/enumbins

# job_events
curl https://voparis-uws-test.obspm.fr/job_event
curl -d "jobid=1234" https://voparis-uws-test.obspm.fr/job_event
curl -d "jobid=1234" -d "phase=badvalue" https://voparis-uws-test.obspm.fr/handler/job_event
curl -d "jobid=1234" -d "phase=HELD" https://voparis-uws-test.obspm.fr/handler/job_event
curl -d "jobid=1234" -d "phase=SUSPENDED" https://voparis-uws-test.obspm.fr/handler/job_event
curl -d "jobid=1234" -d "phase=EXECUTING" https://voparis-uws-test.obspm.fr/handler/job_event
curl -d "jobid=1234" -d "phase=COMPLETED" https://voparis-uws-test.obspm.fr/handler/job_event
curl -d "jobid=1234" -d "phase=ERROR" -d "error_msg=error_message" https://voparis-uws-test.obspm.fr/handler/job_event

curl https://voparis-uws-test.obspm.fr/handler/job_event
curl -d "jobid=1234" https://voparis-uws-test.obspm.fr/handler/job_event
curl -d "jobid=1234" -d "phase=badvalue" https://voparis-uws-test.obspm.fr/handler/job_event
curl -d "jobid=1234" -d "phase=HELD" https://voparis-uws-test.obspm.fr/handler/job_event
curl -d "jobid=1234" -d "phase=SUSPENDED" https://voparis-uws-test.obspm.fr/handler/job_event
curl -d "jobid=1234" -d "phase=RUNNING" https://voparis-uws-test.obspm.fr/handler/job_event
curl -d "jobid=1234" -d "phase=COMPLETED" https://voparis-uws-test.obspm.fr/handler/job_event
curl -d "jobid=1234" -d "phase=ERROR" -d "error_msg=error_message" https://voparis-uws-test.obspm.fr/handler/job_event
